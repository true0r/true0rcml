! Модуль в разработке, имеются заглушки используемые конкретным магазином
===

# true0rcml
Модуль PrestaShop 1.7 для интеграция на базе протокола CommerceML2 (ERP 1С)

Интеграция построена на веб-сервисах prestashop. При установки модуля:
- включаются веб-сервисы
- происходит генерация токена связанного с классом модуля WebsericeRequestCML, он будет вызываться для обработки запроса
и ссылка на который создаётся в classes/webservice

Запросы нужно слать на example.com/api, используя http basic authentication, установив в качестве пользователя токен (найти можно в админке, настройки веб-сервисов), пароль не важен.

Функции:
- импорт из ERP
    - товар
        - категории
        - бренд
        - изображение (обложка)
            - (опционально) генерация различный размеров
            - (опционально) hook 'actionWatermark'
        - характеристики
    - цен и количества товаров (используется заглушка для сопоставления цен и групп пользователей)
        - цены в валюте будут сконвертированы
- синхронизация (при повторном импорте выполняется только обновление и добавление новых сущностей)

Логика:

- Если товар был изменен в магазине, то эти изменения будут сохранены и не будут переписаны при последующей
импорте. В случае когда товар был изменен в ERP, то это затрет изменения в магазине.

TODO:
- UI настроек модуля
- импорт
    - заказ
    - атрибут товара
- не использовать веб-сервисы (возникает проблема при работе с большими архивами)
- документация

Давно хотел выложить в свободный доступ, но нет времени на реализацию модуля, в общем как есть.
Возможно сейчас кому-то будет полезен, плюс это хороший стимул мне найти время.
Вклады и замечания приветствуются. [Доска trello](https://trello.com/b/fbQqZ7Rv/commerceml-2).
